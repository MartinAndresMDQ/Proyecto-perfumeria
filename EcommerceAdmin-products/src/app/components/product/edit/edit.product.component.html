<div class="modal-container">
  <h1 class="title" mat-dialog-title>Editar {{product.nombre}}</h1>
  <div mat-dialog-content style="margin-top: 20px;">
    <div class="row">
      <div class="col-md-5">
        <mat-card>
          <mat-card-content>
            <form [formGroup]="productEditForm">

              
                <mat-form-field
                [ngClass]="{'error': productEditForm.controls['codigo'].errors && !productEditForm.controls['codigo'].pristine}"
                color="{{productEditForm.controls['codigo'].errors && !productEditForm.controls['codigo'].pristine ? 'warn' : 'primary'}}">
                <input type="text" matInput placeholder="codigo" formControlName="codigo">
                <div *ngIf="productEditForm.controls['codigo'].errors && !productEditForm.controls['codigo'].pristine"
                     class="error-msg">
                  <div [hidden]="!productEditForm.controls['codigo'].errors.required">Codigo es requerido</div>
                </div>
              </mat-form-field>
              <mat-form-field
                [ngClass]="{'error': productEditForm.controls['nombre'].errors && !productEditForm.controls['nombre'].pristine}"
                color="{{productEditForm.controls['nombre'].errors && !productEditForm.controls['nombre'].pristine ? 'warn' : 'primary'}}">
                <input type="text" matInput placeholder="Nombtr" formControlName="nombre">
                <div *ngIf="productEditForm.controls['nombre'].errors && !productEditForm.controls['nombre'].pristine"
                     class="error-msg">
                  <div [hidden]="!productEditForm.controls['nombre'].errors.required">Nombre es requerido</div>
                </div>
              </mat-form-field>
              
              <mat-form-field>
              <!-- <mat-form-field
                [ngClass]="{'error': productEditForm.controls['descripcion'].errors && !productEditForm.controls['descripcion'].pristine}"
                color="{{productEditForm.controls['descripcion'].errors && !productEditForm.controls['descripcion'].pristine ? 'warn' : 'primary'}}"> -->
                <input type="text" matInput placeholder="descripcion" formControlName="descripcion">
                <!-- <div *ngIf="productEditForm.controls['descripcion'].errors && !productEditForm.controls['descripcion'].pristine"
                     class="error-msg">
                  <div [hidden]="!productEditForm.controls['descripcion'].errors.required">descripcion es requerido</div>
                </div> -->
              </mat-form-field>
              <mat-form-field
                [ngClass]="{'error': productEditForm.controls['cantidad'].errors && !productEditForm.controls['cantidad'].pristine}"
                color="{{productEditForm.controls['cantidad'].errors && !productEditForm.controls['cantidad'].pristine ? 'warn' : 'primary'}}">
                <input type="number" matInput placeholder="Cantidad" formControlName="cantidad">
                <div
                  *ngIf="productEditForm.controls['cantidad'].errors && !productEditForm.controls['cantidad'].pristine"
                  class="error-msg">
                  <div [hidden]="!productEditForm.controls['cantidad'].errors.required">Cantidad es requerido
                  </div>
                </div>
              </mat-form-field>
              
              <mat-form-field>
                <mat-select placeholder="genero" formControlName="genero">
                  <mat-option *ngFor="let genero of generos" [value]="genero.descripcion">
                    {{genero.descripcion}}
                  </mat-option>
                </mat-select>
              </mat-form-field>
              
              <mat-form-field>
                <mat-select placeholder="tipo" formControlName="tipo">
                  <mat-option *ngFor="let tipo of tipos" [value]="tipo.descripcion">
                    {{tipo.descripcion}}
                  </mat-option>
                </mat-select>
              </mat-form-field>
  
              
              <mat-form-field
                [ngClass]="{'error': productEditForm.controls['precio'].errors && !productEditForm.controls['precio'].pristine}"
                color="{{productEditForm.controls['precio'].errors && !productEditForm.controls['precio'].pristine ? 'warn' : 'primary'}}">
                <input type="number" matInput placeholder="Precio" formControlName="precio">
                <div
                  *ngIf="productEditForm.controls['precio'].errors && !productEditForm.controls['precio'].pristine"
                  class="error-msg">
                  <div [hidden]="!productEditForm.controls['precio'].errors.required">El Precio es requerido
                  </div>
                </div>
              </mat-form-field>
  
              <mat-form-field
                [ngClass]="{'error': productEditForm.controls['descuento'].errors && !productEditForm.controls['descuento'].pristine}"
                color="{{productEditForm.controls['descuento'].errors && !productEditForm.controls['descuento'].pristine ? 'warn' : 'primary'}}">
                <input type="number" matInput placeholder="Descuento" formControlName="descuento">
                <div
                  *ngIf="productEditForm.controls['descuento'].errors && !productEditForm.controls['descuento'].pristine"
                  class="error-msg">
                  <div [hidden]="!productEditForm.controls['descuento'].errors.required">El Descuento es requerido
                  </div>
                </div>
              </mat-form-field>
  
              <mat-form-field
                [ngClass]="{'error': productEditForm.controls['contenido'].errors && !productEditForm.controls['contenido'].pristine}"
                color="{{productEditForm.controls['contenido'].errors && !productEditForm.controls['contenido'].pristine ? 'warn' : 'primary'}}">
                <input type="number" matInput placeholder="Contenido (ml)" formControlName="contenido">
                <div
                  *ngIf="productEditForm.controls['contenido'].errors && !productEditForm.controls['contenido'].pristine"
                  class="error-msg">
                  <div [hidden]="!productEditForm.controls['contenido'].errors.required">El Contenido es requerido
                  </div>
                </div>
              </mat-form-field>
              
              <mat-form-field>
                <mat-select placeholder="marca" formControlName="marca">
                  <mat-option *ngFor="let marca of marcas" [value]="marca.nombre">
                    {{marca.nombre}}
                  </mat-option>
                </mat-select>
              </mat-form-field>

<!--               
              <mat-form-field
                [ngClass]="{'error': productEditForm.controls['name'].errors && !productEditForm.controls['name'].pristine}"
                color="{{productEditForm.controls['name'].errors && !productEditForm.controls['name'].pristine ? 'warn' : 'primary'}}">
                <input type="text" matInput placeholder="Name" formControlName="name">
                <div *ngIf="productEditForm.controls['name'].errors && !productEditForm.controls['name'].pristine"
                     class="error-msg">
                  <div [hidden]="!productEditForm.controls['name'].errors.required">Name is required</div>
                </div>
              </mat-form-field>
              <mat-form-field
                [ngClass]="{'error': productEditForm.controls['nameEng'].errors && !productEditForm.controls['nameEng'].pristine}"
                color="{{productEditForm.controls['nameEng'].errors && !productEditForm.controls['nameEng'].pristine ? 'warn' : 'primary'}}">
                <input type="text" matInput placeholder="English Name" formControlName="nameEng">
                <div *ngIf="productEditForm.controls['nameEng'].errors && !productEditForm.controls['nameEng'].pristine"
                     class="error-msg">
                  <div [hidden]="!productEditForm.controls['nameEng'].errors.required">English Name is required</div>
                </div>
              </mat-form-field>
              <mat-form-field
                [ngClass]="{'error': productEditForm.controls['description'].errors && !productEditForm.controls['description'].pristine}"
                color="{{productEditForm.controls['description'].errors && !productEditForm.controls['description'].pristine ? 'warn' : 'primary'}}">
                <input type="text" matInput placeholder="Description" formControlName="description">
                <div
                  *ngIf="productEditForm.controls['description'].errors && !productEditForm.controls['description'].pristine"
                  class="error-msg">
                  <div [hidden]="!productEditForm.controls['description'].errors.required">Description is required</div>
                </div>
              </mat-form-field>
              <mat-form-field
                [ngClass]="{'error': productEditForm.controls['descriptionEng'].errors && !productEditForm.controls['descriptionEng'].pristine}"
                color="{{productEditForm.controls['descriptionEng'].errors && !productEditForm.controls['descriptionEng'].pristine ? 'warn' : 'primary'}}">
                <input type="text" matInput placeholder="English description" formControlName="descriptionEng">
                <div
                  *ngIf="productEditForm.controls['descriptionEng'].errors && !productEditForm.controls['descriptionEng'].pristine"
                  class="error-msg">
                  <div [hidden]="!productEditForm.controls['descriptionEng'].errors.required">English description is
                    required
                  </div>
                </div>
              </mat-form-field>
              <mat-form-field
                [ngClass]="{'error': productEditForm.controls['price'].errors && !productEditForm.controls['price'].pristine}"
                color="{{productEditForm.controls['price'].errors && !productEditForm.controls['price'].pristine ? 'warn' : 'primary'}}">
                <input type="text" matInput placeholder="Price" formControlName="price">
                <div *ngIf="productEditForm.controls['price'].errors && !productEditForm.controls['price'].pristine"
                     class="error-msg">
                  <div [hidden]="!productEditForm.controls['price'].errors.required">Price is required</div>
                </div>
              </mat-form-field>
              <mat-form-field
                [ngClass]="{'error': productEditForm.controls['sizes'].errors && !productEditForm.controls['sizes'].pristine}"
                color="{{productEditForm.controls['sizes'].errors && !productEditForm.controls['sizes'].pristine ? 'warn' : 'primary'}}">
                <input type="text" matInput placeholder="Sizes" formControlName="sizes">
                <div class="error-msg">
                  <div>Rozmiary, oddzielone przecinkiem, np.: s,m,l,xl !</div>
                </div>
              </mat-form-field> -->
            </form>
          </mat-card-content>
          <mat-card-actions align="end">
            <button mat-raised-button color="primary" [disabled]="productEditForm.invalid" (click)="editProduct()"
                    type="submit">
              Editar
            </button>
          </mat-card-actions>
        </mat-card>
      </div>
      <div class="col-md-7">
        <mat-card>
          <mat-card-content>
            <div class="img-container">
              <img *ngFor="let image of product.imagenes" src="{{contentHost}}/{{image.imageUrl}}" class="img-thumbnail product-img">
            </div>
          </mat-card-content>
        </mat-card>
      </div>
    </div>
  </div>
  <div mat-dialog-actions align="end" style="margin-top: 10px;">
    <button mat-raised-button color="warn" (click)="openRemoveModal();">Borrar !</button>
    <button mat-raised-button color="primary" [mat-dialog-close] cdkFocusInitial>Cerrar</button>
  </div>
</div>
